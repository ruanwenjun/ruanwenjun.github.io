---
layout: post
title: solr入门学习!
---
&emsp;&emsp;Solr是apache下的一个开源项目，完全用java编写的高性能，全功能的文本搜索引擎，适用于需要全文搜索的应用。



# 目录

* [Solr整合Tomcat](#整合)
* [配置IK分词器](#配置分词器)


---
# 整合

开发环境：

`solr-4.10.3`、`apach-tomcat-8.5.30`、`jdk1.8.0_131`

整合步骤：
1. 导包
2. 创建solrhome
3. 修改配置文件中solrhome位置

---
## 开始整合
- 将`solr-4.10.3/example/webapps/solr.war`复制到`Tomcat`的`webapps`下，解压，然后删除`solr.war`。
- 将`solr-4.10.3/example/lib/ext`中的五个包导入`Tomcat`中的`solr`工程`WEB-INF/lib`中。
- 在任意目录创建一个创建一个`solrhome`文件夹（本次在`Tomcat`同一目录下创建），然后将`solr-4.10.3/example/solr`下的文件（5个）复制到`solrhome`中。
- 进入`apache-tomcat-8.5.30\webapps\solr\WEB-INF/web.xml`修改41行代码。

```
<env-entry>
   <env-entry-name>solr/home</env-entry-name>
   <!--存放solrhome的绝对路径-->
   <env-entry-value>F:\solr\solrhome</env-entry-value>
   <env-entry-type>java.lang.String</env-entry-type>
</env-entry>
```
## 测试整合
运行Tomcat,在浏览器输入localhost:8080/solr
![image](https://ruanwenjun.github.io/images/20180414155444.png)

---

# 配置分词器

配置步骤：
1. 导包
2. 修改配置文件

---
## 导包
---
* 将`IKAnalyzer2012FF_u1.jar`导入`solr`工程下
* 把`IKAnalyzer.cfg.xml`、`stopword.dic`复制到`apache-tomcat-8.5.30\webapps\solr\WEB-INF\classes`下，并且创建一个`ext.dic`文件
* 修改`IKAnalyzer.cfg.xml`,打开扩展字典注释

## 修改配置文件
打开`solrhome\collection1\conf\schema.xml`

---
重启Tomcat,测试
![image](https://ruanwenjun.github.io/images/20180414162722.png)
